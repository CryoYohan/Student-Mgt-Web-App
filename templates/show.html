{% extends 'base.html' %}
{% block content %}
{% import 'modal.html' as modal%}
<div class="w3-2021-illuminating w3-center w3-margin-top w3-padding-24 w3-serif">
    <h1>Showing All Students Information</h1>
</div>
{% with messages = get_flashed_messages(with_categories=true) %}
	    {% if messages %}
            {% for category, message in messages %}
                {% if category == 'info' %}
                    <div class="w3-panel w3-bar w3-large w3-green w3-display-container w3-margin-top w3-padding w3-animate-zoom" style="width:50%;margin:auto">
                        <span align="center">{{ message }}</span>
                        <span onclick="this.parentElement.style.display='none'" class="w3-button w3-large w3-small w3-display-topright">&times;</span>
                    </div>
                {% elif category == 'error' %}
                    <div class="w3-panel w3-bar w3-large w3-red w3-display-container w3-margin-top w3-padding w3-animate-zoom" style="width:50%;margin:auto">
                        <span align="center">{{ message }}</span>
                        <span onclick="this.parentElement.style.display='none'" class="w3-button w3-large w3-small w3-display-topright">&times;</span>
                    </div>
                {% endif %}
            {% endfor %}
	    {% endif %}
{% endwith %}

<p>{{modal.showmodal('Add Student')}}</p> <!-- REUSABLE MODULE -->

<table class="w3-table-all w3-display-bottom w3-mobile">
    <tr class="w3-mobile">
        <th>ID Number</th>
        <th>Last Name</th>
        <th>Middle Initial</th>
        <th>First Name</th>
        <th>Course</th> 
        <th>Level</th>
        <th>Username</th>
        <th>Password</th>
        <th>Update/Delete</th>
    </tr>
    {% for student in slist %}
        <tr class="w3-hover-yellow w3-mobile">
            <td>{{ student['idno']}}</td>
            <td>{{ student['lastname'].title()}}</td>
            <td>{{ student['midinit'][0].capitalize() + '.'}}</td>
            <td>{{ student['firstname'].title()}}</td>
            <td>{{ student['course'].upper()}}</td>
            <td>{{ student['level']}}</td>
            <td>{{ student['username']}}</td>
            <td>{{ student['password_plain']}}</td>
            <td><span title="Update Student" class="w3-button w3-ripple w3-2021-marigold w3-round"><i class="glyphicon glyphicon-edit"></i></span><a onclick="document.getElementById('id01').style.display='block'" title="Remove Student" class="w3-button w3-ripple w3-red w3-round" href="#"><i class="glyphicon glyphicon-remove"></i></a></td>
        </tr>
    {% endfor %}
</table>

{% endblock %}